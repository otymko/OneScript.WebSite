# Изменения в версии 1.0.20

## Аннотации

Добавлена возможность применения аннотаций для методов модулей. Аннотации применяются в языке 1С начиная с версии 8.2 и широко известны под именем "Директивы компиляции". 
С появлением в платформе 1С "расширений конфигурации" термин "Аннотация" уже официально появился в описании синтаксиса языка 1С.
Так, например, в расширении конфигурации 1С могут применяться аннотации методов ``&Перед``, ``&Вместо`` и ``&После``.

В 1Script аннотации применяются для произвольной разметки методов и/или параметров методов. Установленные аннотации можно прочесть с помощью Рефлектора.
[Подробное описание в документации](/docs/page/annotations)

## Получение представления объекта

В модуле скрипта доступен метод ``ОбработкаПолученияПредставления``, похожий по функциональности на аналогичный метод платформы 1С.
Метод принимает на вход 2 параметра: 

* Представление - выходной параметр, новое значение представления
* СтандартнаяОбработка - флаг отмены стандартной обработки

## Прочие изменения

 * Формат проектов переведен на современные веяния .NET
 * Сборка NUGET включает в себя варианты для .NET Framework и .NET Standard
 * Внесены изменения в ядро, позволяющие применять 1Script в многопоточных приложениях наподобие IIS и Kestrel
 * Устранен ряд проблем, усложняющих встраивание 1Script в сторонние приложения в качестве скриптового движка
 * Улучшена работа HTTPСервисов для ASP.NET
 * Добавлен метод ПолучитьТелоКакПоток в классе ОтветHTTP
 * Добавлено получение двоичных данных из XML строки
 * Добавлен параметр ИспользоватьBOM в объект HTTPЗапрос
 * В методы ПеременныеСреды и ПолучитьПеременнуюСреды добавлена Цель - местоположение переменной среды (см. перечисление РасположениеПеременнойСреды)
 
# Оптимизация и исправление ошибок
 
* Исправлена работа метода ЗаполнитьЗначенияСвойств для класса Сценарий
* Метод Сред выдавал ошибку, если второй параметр выводил за пределы строки
* Исправлены замечания по статическому анализу SonarQube
* Не работали конструкторы объектов ЧтениеДанных, ЗаписьДанных и ПотокВПамяти
* Исправлен ряд несовместимых с 1С поведений в необычных/нестандартых ситуациях.
* Английские синонимы примитивных типов
* Исправлено падение HTTP-сервисов в многопоточной среде
* В ряде ситуаций некорректно работали неуправляемые COM-объекты
* Исправлено обращение к локальным переменным внутри Выполнить
* Нельзя было задать свойства Keep-Alive и Close в HTTPЗапросе
* Исправлена ошибка неверного значения по умолчанию для параметра "ВключаяПустые" метода СтрРазделить
* Добавлен алиас StringStartsWith. StrStartWith объявлен устаревшим
* Исправлена работа exe от oscript -make под mono
* Ряд прочих небольших исправлений
